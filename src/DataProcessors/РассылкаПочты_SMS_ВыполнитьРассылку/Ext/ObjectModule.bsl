Процедура ОчиститьЖурналРассылки()
	
	//Запрос = Новый Запрос;
	//Запрос.Текст = 
	//"ВЫБРАТЬ
	//|	ЖурналSMSоповещенияСрезПоследних.Период,
	//|	ЖурналSMSоповещенияСрезПоследних.id
	//|	
	//|ИЗ
	//|	РегистрСведений.ЖурналSMSоповещения.СрезПоследних КАК ЖурналSMSоповещенияСрезПоследних
	//|ГДЕ
	//|	ЖурналSMSоповещенияСрезПоследних.Отправлено = Ложь";
	//
	////|	И ЖурналSMSоповещенияСрезПоследних.Период < &ДтВрм";
	////Запрос.УстановитьПараметр("ДтВрм", ТекущаяДата() - 60*60*12);
	//
	//Результат = Запрос.Выполнить().Выгрузить();

	НаборЗаписей = РегистрыСведений.ЖурналSMSоповещения.СоздатьНаборЗаписей();
	//Для каждого стр из Результат Цикл
		НаборЗаписей.Отбор.Отправлено.Установить(Ложь);
	//	НаборЗаписей.Отбор.id.Установить(стр.id);
		НаборЗаписей.Записать();
	//КонецЦикла;
	
КонецПРоцедуры

Процедура ВыполнитьРассылку() Экспорт
	
	Если Чистить тогда
		ОчиститьЖурналРассылки();
	КонецЕсли;
	
	Если Рассылать тогда
		SMSоповещение.ВыполнитьРассылку();
	КонецЕсли;
	
КонецПроцедуры

Процедура ВыполнитьРегламентноеЗадание() Экспорт
	
	ВыполнитьРассылку();
	
КонецПроцедуры	