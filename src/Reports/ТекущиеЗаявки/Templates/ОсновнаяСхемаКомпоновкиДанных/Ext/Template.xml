<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>НаборДанных1</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДоговорКонтрагента</dataPath>
			<field>ДоговорКонтрагента</field>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">12</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ТорговаяТочка</dataPath>
			<field>ТорговаяТочка</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Качество</dataPath>
			<field>Качество</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Склад</dataPath>
			<field>Склад</field>
			<useRestriction>
				<condition>true</condition>
			</useRestriction>
			<attributeUseRestriction>
				<condition>true</condition>
			</attributeUseRestriction>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Номенклатура</dataPath>
			<field>Номенклатура</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СтрокаЗаявки</dataPath>
			<field>СтрокаЗаявки</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДокументРасчетов</dataPath>
			<field>ДокументРасчетов</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СтрокаПрихода</dataPath>
			<field>СтрокаПрихода</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Баланс</dataPath>
			<field>Баланс</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Баланс</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>ЧДЦ=2</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Контрагент</dataPath>
			<field>Контрагент</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Контрагент</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">25</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Заявка</dataPath>
			<field>Заявка</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Заявка</v8:content>
				</v8:item>
			</title>
			<presentationExpression>Заявка.Номер + " от " + Формат(Заявка.Дата, "ДФ=dd.MM.yy")</presentationExpression>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">22</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоОстаток</dataPath>
			<field>КоличествоОстаток</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество остаток</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПоследняяКорректировка</dataPath>
			<field>ПоследняяКорректировка</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Последняя корректировка</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаОстаток</dataPath>
			<field>СуммаОстаток</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма остаток</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Отсрочка</dataPath>
			<field>Отсрочка</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отсрочка</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">6</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Статус</dataPath>
			<field>Статус</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Статус</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Комментарий</dataPath>
			<field>Комментарий</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Комментарий</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">25</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Ответственный</dataPath>
			<field>Ответственный</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Ответственный</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">25</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>БлокировкаКонтрагента</dataPath>
			<field>БлокировкаКонтрагента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Блокировка контрагента</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидОплаты</dataPath>
			<field>ВидОплаты</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид оплаты</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>БлокировкаЗаявки</dataPath>
			<field>БлокировкаЗаявки</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Блокировка заявки</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Лимит</dataPath>
			<field>Лимит</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Лимит</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВРаботеДней</dataPath>
			<field>ВРаботеДней</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>В работе дней</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">8</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СрокГарантированный</dataPath>
			<field>СрокГарантированный</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Срок гарантированный</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">20</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаЗаявки</dataPath>
			<field>СуммаЗаявки</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма заявки</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаРезерва</dataPath>
			<field>СуммаРезерва</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма резерва</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>ЧДЦ=2</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПроцентКомплектации</dataPath>
			<field>ПроцентКомплектации</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>%  комплектации</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>ЧДЦ=</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПричинаОтказа</dataPath>
			<field>ПричинаОтказа</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПроцентОтказов</dataPath>
			<field>ПроцентОтказов</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>%  отказов</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПроцентКРезерву</dataPath>
			<field>ПроцентКРезерву</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Можно зарезервировать, %</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СкладОтбор</dataPath>
			<field>СкладОтбор</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Склад</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>ВЫБРАТЬ
	ЗаявкиПокупателейОстатки.Склад,
	ЗаявкиПокупателейОстатки.Номенклатура,
	ЗаявкиПокупателейОстатки.СтрокаЗаявки,
	ЗаявкиПокупателейОстатки.ТорговаяТочка,
	ЗаявкиПокупателейОстатки.ДоговорКонтрагента,
	ЗаявкиПокупателейОстатки.КоличествоОстаток КАК Количество,
	ЗаявкиПокупателейОстатки.СуммаРеглОстаток КАК Сумма
ПОМЕСТИТЬ ОстаткиСтрокЗаявок
ИЗ
	РегистрНакопления.ЗаявкиПокупателей.Остатки(, {(Склад).* КАК СкладОтбор}) КАК ЗаявкиПокупателейОстатки
ГДЕ
	ЗаявкиПокупателейОстатки.КоличествоОстаток &gt; 0
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОтказыПоЗаявкамОбороты.СтрокаЗаявки.Заявка КАК Заявка,
	СУММА(ОтказыПоЗаявкамОбороты.КоличествоОборот) КАК Количество,
	СУММА(ОтказыПоЗаявкамОбороты.СуммаРеглОборот) КАК Сумма
ПОМЕСТИТЬ ОтказыПоЗаявкам
ИЗ
	РегистрНакопления.ОтказыПоЗаявкам.Обороты(
			,
			,
			,
			СтрокаЗаявки В
				(ВЫБРАТЬ
					ОстаткиСтрокЗаявок.СтрокаЗаявки
				ИЗ
					ОстаткиСтрокЗаявок)) КАК ОтказыПоЗаявкамОбороты
ГДЕ
	ОтказыПоЗаявкамОбороты.СуммаРеглОборот &gt; 0

СГРУППИРОВАТЬ ПО
	ОтказыПоЗаявкамОбороты.СтрокаЗаявки.Заявка
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиСтрокЗаявок.Склад,
	ОстаткиСтрокЗаявок.Номенклатура,
	РАЗНОСТЬДАТ(ОстаткиСтрокЗаявок.СтрокаЗаявки.Заявка.Дата, &amp;Период, ДЕНЬ) КАК ВРаботеДней,
	ОстаткиСтрокЗаявок.СтрокаЗаявки.Заявка КАК Заявка,
	ОстаткиСтрокЗаявок.СтрокаЗаявки.Заявка.СтатусДокумента КАК СтатусДокумента,
	ОстаткиСтрокЗаявок.СтрокаЗаявки КАК СтрокаЗаявки,
	ОстаткиСтрокЗаявок.ТорговаяТочка.Владелец КАК Контрагент,
	ОстаткиСтрокЗаявок.ДоговорКонтрагента,
	ОстаткиСтрокЗаявок.Количество КАК Количество,
	ОстаткиСтрокЗаявок.Сумма КАК Сумма,
	РезервыТоваровОстатки.КоличествоОстаток КАК КоличествоВРезерве
ПОМЕСТИТЬ ОстаткиСтрокЗаявокСРезервами
ИЗ
	ОстаткиСтрокЗаявок КАК ОстаткиСтрокЗаявок
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.РезервыТоваров.Остатки КАК РезервыТоваровОстатки
		ПО ОстаткиСтрокЗаявок.СтрокаЗаявки = РезервыТоваровОстатки.СтрокаЗаявки
{ГДЕ
	ОстаткиСтрокЗаявок.СтрокаЗаявки.*,
	ОстаткиСтрокЗаявок.Номенклатура.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЗаявкиПокупателейОстатки.Склад,
	ЗаявкиПокупателейОстатки.СтрокаЗаявки.Заявка КАК Заявка,
	ВЫБОР
		КОГДА ЗаявкиПокупателейОстатки.СтрокаЗаявки.ПоследняяКорректировка = ЗНАЧЕНИЕ(Документ.КорректировкаЗаявкиПокупателя.ПустаяСсылка)
			ТОГДА ЗаявкиПокупателейОстатки.СтрокаЗаявки.Заявка
		ИНАЧЕ ЗаявкиПокупателейОстатки.СтрокаЗаявки.ПоследняяКорректировка
	КОНЕЦ КАК ПоследняяКорректировка,
	ЗаявкиПокупателейОстатки.Контрагент,
	ЗаявкиПокупателейОстатки.ДоговорКонтрагента,
	МАКСИМУМ(ЗаявкиПокупателейОстатки.СтрокаЗаявки.СрокГарантированный) КАК СрокГарантированный,
	СУММА(ЗаявкиПокупателейОстатки.Количество) КАК Количество,
	СУММА(ЗаявкиПокупателейОстатки.Сумма) КАК Сумма
ПОМЕСТИТЬ ОстаткиЗаявок
ИЗ
	ОстаткиСтрокЗаявокСРезервами КАК ЗаявкиПокупателейОстатки

СГРУППИРОВАТЬ ПО
	ЗаявкиПокупателейОстатки.Склад,
	ЗаявкиПокупателейОстатки.Контрагент,
	ЗаявкиПокупателейОстатки.ДоговорКонтрагента,
	ЗаявкиПокупателейОстатки.СтрокаЗаявки.Заявка,
	ВЫБОР
		КОГДА ЗаявкиПокупателейОстатки.СтрокаЗаявки.ПоследняяКорректировка = ЗНАЧЕНИЕ(Документ.КорректировкаЗаявкиПокупателя.ПустаяСсылка)
			ТОГДА ЗаявкиПокупателейОстатки.СтрокаЗаявки.Заявка
		ИНАЧЕ ЗаявкиПокупателейОстатки.СтрокаЗаявки.ПоследняяКорректировка
	КОНЕЦ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиСтрокЗаявок.Заявка,
	ОстаткиСтрокЗаявок.Склад,
	ОстаткиСтрокЗаявок.Номенклатура,
	СУММА(ОстаткиСтрокЗаявок.Количество) КАК Количество,
	СУММА(ОстаткиСтрокЗаявок.Сумма) КАК Сумма,
	СУММА(ОстаткиСтрокЗаявок.КоличествоВРезерве) КАК КоличествоВРезерве
ПОМЕСТИТЬ ОстаткиНоменклатурыЗаявок
ИЗ
	ОстаткиСтрокЗаявокСРезервами КАК ОстаткиСтрокЗаявок

СГРУППИРОВАТЬ ПО
	ОстаткиСтрокЗаявок.Заявка,
	ОстаткиСтрокЗаявок.Склад,
	ОстаткиСтрокЗаявок.Номенклатура
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиНоменклатурыБезЗаявок.Склад КАК Склад,
	ОстаткиНоменклатурыБезЗаявок.Номенклатура КАК Номенклатура,
	СУММА(ОстаткиНоменклатурыБезЗаявок.КоличествоВРезерве) КАК КоличествоВРезерве
ПОМЕСТИТЬ ОстаткиНоменклатурыБезЗаявок
ИЗ
	ОстаткиНоменклатурыЗаявок КАК ОстаткиНоменклатурыБезЗаявок

СГРУППИРОВАТЬ ПО
	ОстаткиНоменклатурыБезЗаявок.Склад,
	ОстаткиНоменклатурыБезЗаявок.Номенклатура
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТоварыНаСкладахОстатки.Склад,
	ТоварыНаСкладахОстатки.Номенклатура,
	СУММА(ТоварыНаСкладахОстатки.КоличествоОстаток - ЕСТЬNULL(ОстаткиНоменклатурыБезЗаявок.КоличествоВРезерве, 0)) КАК Количество
ПОМЕСТИТЬ СвободныеОстатки
ИЗ
	РегистрНакопления.ТоварыНаСкладах.Остатки(
			,
			(Склад, Номенклатура) В
				(ВЫБРАТЬ
					ОстаткиНоменклатурыЗаявок.Склад,
					ОстаткиНоменклатурыЗаявок.Номенклатура
				ИЗ
					ОстаткиНоменклатурыЗаявок)) КАК ТоварыНаСкладахОстатки
		ЛЕВОЕ СОЕДИНЕНИЕ ОстаткиНоменклатурыБезЗаявок КАК ОстаткиНоменклатурыБезЗаявок
		ПО (ОстаткиНоменклатурыБезЗаявок.Склад = ТоварыНаСкладахОстатки.Склад)
			И (ОстаткиНоменклатурыБезЗаявок.Номенклатура = ТоварыНаСкладахОстатки.Номенклатура)

СГРУППИРОВАТЬ ПО
	ТоварыНаСкладахОстатки.Склад,
	ТоварыНаСкладахОстатки.Номенклатура

ИМЕЮЩИЕ
	СУММА(ТоварыНаСкладахОстатки.КоличествоОстаток - ЕСТЬNULL(ОстаткиНоменклатурыБезЗаявок.КоличествоВРезерве, 0)) &gt; 0
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиСтрокЗаявокСРезервами.Заявка,
	ОстаткиСтрокЗаявокСРезервами.Склад,
	СУММА(ОстаткиСтрокЗаявокСРезервами.Количество) КАК КоличествоОстаток,
	СУММА(ОстаткиСтрокЗаявокСРезервами.Сумма) КАК СуммаОстаток,
	СУММА(ОстаткиСтрокЗаявокСРезервами.КоличествоВРезерве) КАК КоличествоВРезерве,
	СУММА(ЕСТЬNULL(СвободныеОстатки.Количество, 0)) КАК СвободныйОстаток,
	СУММА(ОстаткиСтрокЗаявокСРезервами.Сумма) / СУММА(ОстаткиСтрокЗаявокСРезервами.Количество) * СУММА(ЕСТЬNULL(СвободныеОстатки.Количество, 0)) КАК СуммаСвободныйОстаток
ПОМЕСТИТЬ КРезерву
ИЗ
	ОстаткиСтрокЗаявокСРезервами КАК ОстаткиСтрокЗаявокСРезервами
		ЛЕВОЕ СОЕДИНЕНИЕ СвободныеОстатки КАК СвободныеОстатки
		ПО (СвободныеОстатки.Склад = ОстаткиСтрокЗаявокСРезервами.Склад)
			И (СвободныеОстатки.Номенклатура = ОстаткиСтрокЗаявокСРезервами.Номенклатура)

СГРУППИРОВАТЬ ПО
	ОстаткиСтрокЗаявокСРезервами.Заявка,
	ОстаткиСтрокЗаявокСРезервами.Склад
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиНоменклатурыЗаявок.Заявка,
	СУММА(ВЫБОР
			КОГДА ОстаткиНоменклатурыЗаявок.Количество = 0
				ТОГДА 0
			ИНАЧЕ ОстаткиНоменклатурыЗаявок.КоличествоВРезерве * (ОстаткиНоменклатурыЗаявок.Сумма / ОстаткиНоменклатурыЗаявок.Количество)
		КОНЕЦ) КАК СуммаРезерва
ПОМЕСТИТЬ СуммыРезерва
ИЗ
	ОстаткиНоменклатурыЗаявок КАК ОстаткиНоменклатурыЗаявок

СГРУППИРОВАТЬ ПО
	ОстаткиНоменклатурыЗаявок.Заявка
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВзаиморасчетыОстатки.ДоговорКонтрагента,
	-ВзаиморасчетыОстатки.СуммаРеглОстаток КАК Сумма
ПОМЕСТИТЬ ВзаиморасчетыОстатки
ИЗ
	РегистрНакопления.Взаиморасчеты.Остатки(
			,
			ДоговорКонтрагента В
				(ВЫБРАТЬ
					ОстаткиЗаявок.ДоговорКонтрагента
				ИЗ
					ОстаткиЗаявок)) КАК ВзаиморасчетыОстатки
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиЗаявок.Склад,
	ОстаткиЗаявок.Заявка,
	РАЗНОСТЬДАТ(ОстаткиЗаявок.Заявка.Дата, &amp;Период, ДЕНЬ) КАК ВРаботеДней,
	ОстаткиЗаявок.ПоследняяКорректировка,
	ОстаткиЗаявок.Контрагент,
	ОстаткиЗаявок.ДоговорКонтрагента,
	ОстаткиЗаявок.ПоследняяКорректировка.СтатусДокумента КАК Статус,
	ОстаткиЗаявок.ПоследняяКорректировка.БлокировкаОтгрузки КАК БлокировкаЗаявки,
	ОстаткиЗаявок.ПоследняяКорректировка.Контрагент.ГоловнойКонтрагент.Блокировка КАК БлокировкаКонтрагента,
	ОстаткиЗаявок.ДоговорКонтрагента.ВидОплаты КАК ВидОплаты,
	ОстаткиЗаявок.ДоговорКонтрагента.ДопустимаяСуммаЗадолженности КАК Лимит,
	ОстаткиЗаявок.ДоговорКонтрагента.ДопустимоеЧислоДнейЗадолженности КАК Отсрочка,
	ОстаткиЗаявок.СрокГарантированный КАК СрокГарантированный,
	ОстаткиЗаявок.ПоследняяКорректировка.Комментарий КАК Комментарий,
	ОстаткиЗаявок.ПоследняяКорректировка.Ответственный КАК Ответственный,
	ОстаткиЗаявок.Количество КАК КоличествоОстаток,
	ОстаткиЗаявок.Сумма КАК СуммаОстаток,
	ОстаткиЗаявок.ПоследняяКорректировка.СуммаДокумента КАК СуммаЗаявки,
	ЕСТЬNULL(ВзаиморасчетыОстатки.Сумма, 0) КАК Баланс,
	ЕСТЬNULL(СуммыРезерва.СуммаРезерва, 0) КАК СуммаРезерва,
	ВЫБОР
		КОГДА ЕСТЬNULL(ОстаткиЗаявок.ПоследняяКорректировка.СуммаДокумента, 0) = 0
			ТОГДА 0
		ИНАЧЕ ВЫРАЗИТЬ(100 * СуммыРезерва.СуммаРезерва / ОстаткиЗаявок.ПоследняяКорректировка.СуммаДокумента КАК ЧИСЛО(10, 0))
	КОНЕЦ КАК ПроцентКомплектации,
	ВЫБОР
		КОГДА ЕСТЬNULL(ОстаткиЗаявок.Заявка.СуммаДокумента, 0) = 0
			ТОГДА 100
		ИНАЧЕ ВЫРАЗИТЬ(100 * ОтказыПоЗаявкам.Сумма / ОстаткиЗаявок.Заявка.СуммаДокумента КАК ЧИСЛО(10, 0))
	КОНЕЦ КАК ПроцентОтказов,
	ВЫБОР
		КОГДА ЕСТЬNULL(ОстаткиЗаявок.ПоследняяКорректировка.СуммаДокумента, 0) = 0
			ТОГДА 0
		ИНАЧЕ ВЫБОР
				КОГДА (ВЫРАЗИТЬ(100 * КРезерву.СуммаСвободныйОстаток / ОстаткиЗаявок.ПоследняяКорректировка.СуммаДокумента КАК ЧИСЛО(10, 0))) &gt; 100
					ТОГДА 100
				ИНАЧЕ ВЫРАЗИТЬ(100 * КРезерву.СуммаСвободныйОстаток / ОстаткиЗаявок.ПоследняяКорректировка.СуммаДокумента КАК ЧИСЛО(10, 0))
			КОНЕЦ
	КОНЕЦ КАК ПроцентКРезерву
ИЗ
	ОстаткиЗаявок КАК ОстаткиЗаявок
		ЛЕВОЕ СОЕДИНЕНИЕ ВзаиморасчетыОстатки КАК ВзаиморасчетыОстатки
		ПО (ВзаиморасчетыОстатки.ДоговорКонтрагента = ОстаткиЗаявок.ДоговорКонтрагента)
		ЛЕВОЕ СОЕДИНЕНИЕ СуммыРезерва КАК СуммыРезерва
		ПО ОстаткиЗаявок.Заявка = СуммыРезерва.Заявка
		ЛЕВОЕ СОЕДИНЕНИЕ ОтказыПоЗаявкам КАК ОтказыПоЗаявкам
		ПО ОстаткиЗаявок.Заявка = ОтказыПоЗаявкам.Заявка
		ЛЕВОЕ СОЕДИНЕНИЕ КРезерву КАК КРезерву
		ПО ОстаткиЗаявок.Склад = КРезерву.Склад
			И ОстаткиЗаявок.Заявка = КРезерву.Заявка</query>
	</dataSet>
	<parameter>
		<name>Период</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Период</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>Date</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
	</parameter>
	<parameter>
		<name>НачалоПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Начало периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>КонецПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Конец периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СистемныеПоля.НомерПоПорядку</dcsset:field>
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>№ п/п</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Склад</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Статус</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>БлокировкаЗаявки</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Контрагент</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:use>false</dcsset:use>
					<dcsset:field>БлокировкаКонтрагента</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Заявка</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДоговорКонтрагента</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ВидОплаты</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Лимит</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Отсрочка</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СрокГарантированный</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ВРаботеДней</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Баланс</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ПроцентКомплектации</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ПроцентКРезерву</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ПроцентОтказов</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СуммаЗаявки</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СуммаРезерва</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СуммаОстаток</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КоличествоОстаток</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Комментарий</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Ответственный</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СкладОтбор</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Склады.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>628c3441-7f59-42a0-989c-fd2667c266fa</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Ответственный</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>fa8653f3-9d39-4ae1-be24-560c8dc39d88</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Статус</dcsset:left>
					<dcsset:comparisonType>NotEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.СтатусыДокументов.ЗаявкаПокупателяЗакрыт</dcsset:right>
					<dcsset:userSettingID>b6dcce34-b71a-4e80-9b92-44ce2fd622f0</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ВидОплаты</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>b7b49740-a0c9-4d9d-b819-af0b7ebad2fc</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Контрагент</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>325f42dc-7168-4a91-9664-693b88cd0e69</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Заявка</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Документ.ЗаявкаПокупателя.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>608534e6-de78-48d6-88bd-077dc00f9d38</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">БлокировкаЗаявки</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">БлокировкаКонтрагента</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Баланс</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ВРаботеДней</dcsset:left>
					<dcsset:comparisonType>GreaterOrEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
					<dcsset:userSettingID>51cbfb90-ae52-40a3-b68f-35b41dfa02a7</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ПроцентКомплектации</dcsset:left>
					<dcsset:comparisonType>LessOrEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
					<dcsset:userSettingID>ee68be5e-62e7-47fe-8237-05f7e32f4fc3</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ПроцентКРезерву</dcsset:left>
					<dcsset:comparisonType>GreaterOrEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
					<dcsset:userSettingID>bf0e19a5-a98a-4595-bcf2-0d9a3d02cd55</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ПроцентОтказов</dcsset:left>
					<dcsset:comparisonType>LessOrEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
					<dcsset:userSettingID>756a8b9c-b66b-47ad-8aed-1c2e71b71a93</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СрокГарантированный</dcsset:left>
					<dcsset:comparisonType>GreaterOrEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="v8:StandardBeginningDate">
						<v8:variant xsi:type="v8:StandardBeginningDateVariant">Custom</v8:variant>
						<v8:date>0001-01-01T00:00:00</v8:date>
					</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СтрокаЗаявки</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Период</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardBeginningDate">
						<v8:variant xsi:type="v8:StandardBeginningDateVariant">BeginningOfThisDay</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>f7dd0ff0-3ec4-40b8-a747-9e521ad22e6c</dcsset:userSettingID>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:conditionalAppearance>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>Статус</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">БлокировкаЗаявки</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
						</dcsset:item>
					</dcsset:filter>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>ЦветТекста</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Color">style:NegativeTextColor</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>Контрагент</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">БлокировкаКонтрагента</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
						</dcsset:item>
					</dcsset:filter>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>ЦветТекста</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Color">style:NegativeTextColor</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>Баланс</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter/>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>ВыделятьОтрицательные</dcscor:parameter>
							<dcscor:value xsi:type="xs:boolean">true</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>ПроцентОтказов</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ПроцентОтказов</dcsset:left>
							<dcsset:comparisonType>Greater</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
						</dcsset:item>
					</dcsset:filter>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>ЦветФона</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Color">web:Salmon</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:use>false</dcscor:use>
							<dcscor:parameter>ЦветТекста</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Color">style:NegativeTextColor</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
				<dcsset:item>
					<dcsset:selection>
						<dcsset:item>
							<dcsset:field>ПроцентКРезерву</dcsset:field>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:filter>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ПроцентКРезерву</dcsset:left>
							<dcsset:comparisonType>Greater</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
						</dcsset:item>
					</dcsset:filter>
					<dcsset:appearance>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>ЦветФона</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Color">web:MediumGreen</dcscor:value>
						</dcscor:item>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:use>false</dcscor:use>
							<dcscor:parameter>ЦветТекста</dcscor:parameter>
							<dcscor:value xsi:type="v8ui:Color">style:NegativeTextColor</dcscor:value>
						</dcscor:item>
					</dcsset:appearance>
				</dcsset:item>
			</dcsset:conditionalAppearance>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>