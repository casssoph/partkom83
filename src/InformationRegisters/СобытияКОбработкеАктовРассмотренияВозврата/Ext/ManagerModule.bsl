
Процедура Добавить(АктРассмотренияВозврата, Событие, ПараметрСобытия = Неопределено, НеДобавлятьЕслиУжеЕсть = Истина) Экспорт
	
	Если Не ЗначениеЗаполнено(АктРассмотренияВозврата) ИЛИ Не ЗначениеЗаполнено(Событие) Тогда
		Возврат;
	КонецЕсли;
	
	Запрос = Новый Запрос;
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	СобытияКОбработкеАктовРассмотренияВозврата.АктРассмотренияВозврата
	|ИЗ
	|	РегистрСведений.СобытияКОбработкеАктовРассмотренияВозврата КАК СобытияКОбработкеАктовРассмотренияВозврата
	|ГДЕ
	|	СобытияКОбработкеАктовРассмотренияВозврата.АктРассмотренияВозврата = &АктРассмотренияВозврата
	|	И СобытияКОбработкеАктовРассмотренияВозврата.Событие = &Событие ";
	
	Запрос.УстановитьПараметр("АктРассмотренияВозврата", АктРассмотренияВозврата);
	Запрос.УстановитьПараметр("Событие", Событие);
	
	РезультатЗапроса = Запрос.Выполнить();
	
	УжеЕсть = НЕ РезультатЗапроса.Пустой();
	
	НужноДобавить = Истина;
	Если УжеЕсть Тогда
		НужноДобавить = Не НеДобавлятьЕслиУжеЕсть;
	КонецЕсли;
	
	Если НужноДобавить Тогда	
		
		МЗ 							= РегистрыСведений.СобытияКОбработкеАктовРассмотренияВозврата.СоздатьМенеджерЗаписи();
		МЗ.Период 					= ТекущаяДата();
		МЗ.АктРассмотренияВозврата 	= АктРассмотренияВозврата;
		МЗ.Событие 					= Событие;
		МЗ.ПараметрСобытия 			= ПараметрСобытия;
		МЗ.Записать();	
		
	КонецЕсли;
	
КонецПроцедуры



